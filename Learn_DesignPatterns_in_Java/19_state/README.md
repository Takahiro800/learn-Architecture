# Stateパターン
- 状態をクラスとして表現する

# 登場人物
## State(状態)
- 状態ごとに異なる振る舞いをするインターフェースを決める
- 状態に依存した振る舞いをするメソッドの集まり

## ConcreteState(具体的な状態の役)
- State役のインターフェースを具体的に実装する

## Context(状況、前後関係、文脈)の役
- 現在の状態を表すConcreteState役を持つ。

# 考えを広げるためのヒント
## 分割して統治せよ
- Stateパターンは、システムの「状態」をクラスとして表現することで、複雑なプログラムを分割している

## 状態に依存した処理
## 状態遷移は誰が管理すべきか
- サンプルコードでは、「状態遷移」を「状態に依存した振る舞い」であるとみなして、`DayState`や`NightState`クラスに持たせた
- これの良い点は、「他の状態に遷移するのはいつか」が一つのクラスにまとまっている
- 悪い点は、「1つのConcreteStateクラスが他のConcreteStateクラスを知らなければならない」

## 自己矛盾が起きない

## 新しい状態を追加するのは簡単
- 一方で、出来上がっているState役のインターフェースにメソッドを追加することは困難。全てのConcreteState役に処理を追加することになる

## 複数の顔をもつインスタンス

# 関連しているパターン
## Singletonパターン
- 状態を表すクラスは、インスタンスフィールドを持たないために、Singletonパターンを適用することがある

## Flyweightパターン
- インスタンスフィールドを持たないので、Flyweightパターンを使って、ConcreteState役を複数のContext役で共有できる場合もある
